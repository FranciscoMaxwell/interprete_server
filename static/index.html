<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Int√©rprete de Voz</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 50px; }
    input, button { padding: 10px; margin: 5px; }
    #output { margin-top: 20px; font-size: 18px; color: #333; }
  </style>
</head>
<body>
  <h2>üåç Int√©rprete Autom√°tico</h2>
  <input id="message" type="text" placeholder="Digite algo..." />
  <button onclick="connect()">Conectar</button>
  <button onclick="sendMessage()">Enviar</button>
  <div id="output"></div>

  <script>
    let ws;

    function connect() {
      const protocol = location.protocol === "https:" ? "wss" : "ws";
      const wsUrl = `${protocol}://${location.host}/ws`;
      ws = new WebSocket(wsUrl);

      ws.onopen = () => console.log("‚úÖ Conectado ao servidor.");
      ws.onmessage = (event) => {
        document.getElementById("output").textContent = "Tradu√ß√£o: " + event.data;
      };
      ws.onerror = (err) => console.error("WebSocket error:", err);
      ws.onclose = () => console.log("‚ùå Conex√£o fechada.");
    }

    function sendMessage() {
      const msg = document.getElementById("message").value;
      if (ws && ws.readyState === WebSocket.OPEN) {
        ws.send(msg);
      } else {
        alert("Conecte primeiro ao servidor!");
      }
    }
  </script>
</body>
</html>
